# **Capítulo 23 – Device Management and Management Tools**

---

La administración de dispositivos Cisco involucra acceso seguro, transferencia de archivos, monitoreo, telemetría, troubleshooting y validación del estado operativo de red.  
Este capítulo revisa las herramientas clave y los métodos para diagnosticar fallos en administración tanto local como remota.

---

# **FOUNDATION TOPICS**

La infraestructura moderna depende de una administración estable y segura. Las funciones principales incluyen:

- Acceso local (console)
    
- Acceso remoto (vty: Telnet/SSH)
    
- Transferencia de archivos (TFTP/FTP/HTTP/SCP)
    
- Monitoreo (Syslog, SNMP, IP SLA, Object Tracking)
    
- Telemetría e información de flujo (NetFlow/FNF)
    
- Detección de fallos (BFD)
    
- Herramientas de aseguramiento (Cisco DNA Center Assurance)
    

---

# **1. Device Management Troubleshooting**

Los fallos comunes en la administración del dispositivo incluyen:

- Problemas de autenticación AAA
    
- Contraseñas incorrectas o no encriptadas
    
- Falta de transporte habilitado
    
- Filtros (ACLs, CoPP) bloqueando acceso
    
- Versiones incompatibles de SSH
    
- Problemas de gestión de archivos (TFTP, HTTP, SCP)
    

Diagnóstico general:

```
show running-config | include line|vty|transport
show ip ssh
show access-lists
show logging
```

---

# **2. Console Access Troubleshooting**

Acceso básico fuera de banda.

Problemas típicos:

- Cable o adaptador incorrecto
    
- Velocidad de consola incorrecta (9600 default)
    
- Synchronization issues
    
- Password local mal configurada
    

Verificar:

```
line console 0
 login
 password <pass>
```

Errores frecuentes:

- Configurar AAA sin fallback y perder acceso a consola
    
- No definir `login local` cuando se utilizan usuarios locales
    

---

# **3. vty Access Troubleshooting**

Los vty (0–15) proporcionan acceso remoto.

Revisión:

```
line vty 0 4
 transport input ssh
 login local
```

Problemas comunes:

- `transport input none` bloquea todo
    
- ACLs inbound bloquean acceso remoto
    
- No definir `login` o `login local`
    
- AAA mal configurado
    

---

# **4. Telnet**

Características:

- No cifrado
    
- En desuso, inseguro
    
- Útil únicamente para entornos controlados o troubleshooting
    

Problemas comunes:

- Transport no habilitado:
    

```
transport input telnet
```

- Password vty no definida:
    

```
password <pass>
login
```

---

# **5. SSH**

Método recomendado y seguro.

Requisitos:

1. Hostname configurado
    
2. Domain-name configurado
    
3. RSA keys generadas
    
4. vty habilitado para SSH
    

Ejemplo:

```
hostname R1
ip domain-name example.com
crypto key generate rsa modulus 2048
transport input ssh
```

Problemas comunes:

- Versión de SSH incorrecta
    
- RSA key demasiado pequeña
    
- AAA sin fallback
    
- ACL bloqueando puerto TCP 22
    

Verificación:

```
show ip ssh
```

---

# **6. Password Encryption Levels**

### **Type 0**

Texto claro (inseguro).

### **Type 7**

Cifrado reversible, solo obfuscación.

### **Type 5**

Hash MD5 (legacy).

### **Type 9 (scrypt) / Type 8 (PBKDF2)**

Recomendados en IOS-XE modernos.

Verificación:

```
show running-config
```

---

# **7. Remote Transfer Troubleshooting**

La transferencia de archivos falla por:

- Direcciones incorrectas
    
- Servidor no accesible
    
- MTU mismatched
    
- ACLs bloqueando el puerto
    
- Credenciales incorrectas
    
- Que el dispositivo no tenga almacenamiento suficiente
    

---

## **7.1 TFTP**

Puertos usados: **UDP 69**

Problemas comunes:

- Firewall/NAT bloquea UDP 69
    
- Falta de privilegios en el servidor
    
- Archivo no existe o permisos incorrectos
    

Verificación:

```
copy tftp: flash:
```

---

## **7.2 HTTP(S)**

Muy útil para firmware upgrades y APIs REST.

Problemas:

- HTTPS requiere certificados válidos
    
- Firewalls pueden bloquear el puerto
    
- Dirección incorrecta o ruta no alcanzable
    

Comando:

```
ip http client source-interface
```

---

## **7.3 FTP**

Requiere usuario/contraseña.

Problemas:

- Activo vs pasivo
    
- ACL bloqueando data channel
    
- Credenciales incorrectas
    
- Firewall inspeccionando FTP
    

---

## **7.4 SCP**

Método más seguro.

Requisitos:

- SSH habilitado
    
- Usuario con privilegios
    
- `ip scp server enable`
    

Problemas comunes:

- AAA bloquea acceso
    
- Transferencia falla por tamaño máximo
    
- No se soporta en IOS legacy
    

---

# **8. Management Tools Troubleshooting**

---

# **8.1 Syslog Troubleshooting**

Syslog envía mensajes a un servidor central.

Configuración:

```
logging host 192.168.1.10
logging trap informational
```

Problemas comunes:

- Nivel de severidad demasiado bajo
    
- No se habilitó `logging on`
    
- Routing incorrecto
    
- Syslog bloqueado por ACL
    
- Timestamps incorrectos
    

Verificación:

```
show logging
```

---

# **8.2 SNMP Troubleshooting**

SNMP permite monitoreo y gestión remota.

SNMPv2 → inseguro (community-strings).  
SNMPv3 → seguro (auth + priv).

Errores típicos:

- ACL bloqueando UDP 161
    
- Community incorrecta
    
- Wrong SNMP view
    
- SNMPv3 mismatch (auth/priv)
    

Ejemplo SNMPv3:

```
snmp-server user admin GROUP v3 auth sha cisco priv aes 128 cisco
```

Verificación:

```
show snmp
```

---

# **8.3 Cisco IOS IP SLA Troubleshooting**

IP SLA permite medir:

- Latencia
    
- Jitter
    
- Pérdida
    
- Disponibilidad de servicios
    

Problemas comunes:

- No iniciar el SLA:
    

```
ip sla 1
 icmp-echo 8.8.8.8
ip sla schedule 1 start-time now
```

- Dirección no alcanzable
    
- Tracking mal configurado
    

Verificación:

```
show ip sla statistics
```

---

# **8.4 Object Tracking Troubleshooting**

Tracking enlaza IP SLA con rutas estáticas, HSRP, etc.

Problemas comunes:

- Objeto sin estado (Down)
    
- SLA no iniciado
    
- Track mal asociado a una interfaz o ruta
    

Ejemplo:

```
track 1 ip sla 1 reachability
```

Verificación:

```
show track
```

---

# **8.5 NetFlow and Flexible NetFlow Troubleshooting**

Flexible NetFlow (FNF) permite:

- Visibilidad avanzada
    
- Seguridad y análisis
    
- Integración con herramientas SIEM
    

Problemas comunes:

- Flow record incompleto
    
- Exporter no definido
    
- Collector no alcanzable
    
- Version mismatch (v5/v9/IPFIX)
    

Ejemplo:

```
flow exporter EXPORTER
 destination 192.168.1.50
 transport udp 2055
```

Verificación:

```
show flow exporter
show flow monitor
```

---

# **8.6 Bidirectional Forwarding Detection (BFD)**

BFD detecta fallas de enlaces de forma **mucho más rápida** que OSPF/EIGRP/BGP.

Problemas comunes:

- BFD no soportado en la interfaz
    
- MTU issues
    
- Configuración BFD solo en un lado
    
- BGP/OSPF no habilitado para usar BFD
    

Ejemplo:

```
bfd interval 50 min_rx 50 multiplier 3
```

Verificación:

```
show bfd neighbors
```

---

# **8.7 Cisco DNA Center Assurance**

Cisco DNA Center Assurance ofrece:

- Telemetría basada en datos
    
- Detección automática de problemas
    
- Health Scores
    
- Información de aplicaciones, dispositivos y clientes
    
- Topología y análisis de flujos
    

Problemas típicos:

- Dispositivo sin SNMP/NETCONF habilitado
    
- Versiones antiguas de IOS-XE
    
- Clock/time drift
    
- Network telemetry deshabilitada
    

Verificación:

- Reachability desde DNAC
    
- Estado SNMP/NETCONF/SSH
    
- Credenciales válidas en DNAC
    
- Licencias DNA activas
    

---

# **Resumen Final del Capítulo**

Este capítulo cubre el troubleshooting esencial de herramientas de gestión:

### **Acceso a dispositivos**

- Console
    
- vty
    
- Telnet/SSH
    
- Password encryption
    

### **Transferencia de archivos**

- TFTP
    
- FTP
    
- HTTP(S)
    
- SCP
    

### **Herramientas de monitoreo y aseguramiento**

- Syslog
    
- SNMP
    
- IP SLA
    
- Object Tracking
    
- NetFlow / Flexible NetFlow
    
- BFD
    
- Cisco DNA Center Assurance
    

Dominar estas herramientas te permite mantener, diagnosticar y asegurar dispositivos de red de forma profesional, cumpliendo los requerimientos de ENARSI.